<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App</title>
</head>
<body>

  <!-- <button class="start-btn" onclick="updateBtn();">Start</button> -->

  <!-- <button class="add-to-cart-btn" onclick="displayMessage();">Add to cart</button> -->

  <!-- <div class="text-msg"></div> -->

  <button onclick="message++; displayNotification();">Add</button>

  <button onclick="if(message >= 0){
    message--;
    displayNotification();
  }; 
  if(message === 0){
    stopNotification();
    }">Remove</button>

  <script>
    let message = 0;

    let intervalID;

    let isDisplayingNotification; // this variable used for control displayNotification() function

    displayNotification();

    function displayNotification(){
      console.log(message);

      if (isDisplayingNotification){
        return;
      }

      isDisplayingNotification = true;

      intervalID = setInterval(function(){
        if (document.title === 'App'){
          document.title = `${message} New messages`;
        } else {
          document.title = 'App';
        }
      }, 1000);
    }

    function stopNotification(){
      clearInterval(intervalID);
      isDisplayingNotification = false; 
      document.title = 'App';
    }
    /*let message = 2;

    function add(){
      message++;
      console.log(message);

      setInterval(function(){
        
        document.title = `${message} New messages`;
      }, 1000);
    }

    function remove(){
      message--;
      console.log(message);

      setInterval(function(){
        document.title = `${message} New messages`;
      }, 1000);
    }*/


    /*setInterval(function(){
      if (document.title === 'App'){
        document.title = 'New message';
      } else {
        document.title = 'App';
      }
    }, 3000);*/
    

    /*let timeoutID;

    function displayMessage(){

      const msg = document.querySelector('.text-msg');
      
      msg.innerHTML = 'Added';
      
      clearTimeout(timeoutID);
      
      timeoutID = setTimeout(function (){
        msg.innerHTML = '';
      }, 3000);
      
      console.log(timeoutID);
    }*/

    /*function updateBtn(){
      const textBox = document.querySelector('.text-msg');

      console.log('clicked the add to cart button');

      textBox.innerHTML = 'Added';

      setTimeout(function(){
        textBox.innerHTML = '';
      }, 2000);
    }*/

    /*function updateBtn(){
      const textBox = document.querySelector('.text-msg');

      console.log('clicked the add to cart button');

      textBox.innerHTML = 'Added';

      setTimeout(function(){
        textBox.innerHTML = '';
      }, 2000);
    }*/

    /*function updateBtn(){
      const btn = document.querySelector('.start-btn');

      console.log('clicked the button');

      btn.innerHTML = 'Loading...';

      setTimeout(function(){
        btn.innerHTML = 'Finished!';
      }, 2000);
    }*/

    /*function updateBtn(){
      const btn = document.querySelector('.start-btn');

      console.log('clicked the button');

      setTimeout(function(){
        btn.innerHTML = 'Finished!';
      }, 2000);
    }*/
    
    /*const add = function(){
      console.log(2 + 3);
    }

    add();
    add();*/
   
    /*const add = function(){
      console.log(2 + 3);
    }

    function runTwice(add){
      add();
      add();
    }

    runTwice(function (){
      console.log('12b');
    });

    runTwice(add);*/
  </script>
</body>
</html>
